<div ng-controller="ResultRankController" style="height: 100%;" class="container-fluid">
    <div class="row" style="height: 100%;margin-left:0px;">
        <!--用于显示考试列表的panel-->
        <div class="col-xs-2" ng-show="showLeftWindow" style="height: 100%;padding-right:0px;padding-left:0px;">
            <!--选择考试-->
            <div class="panel" style="height:100%;box-shadow: 0 0 1px;overflow:auto;">
                <div class="title">
                    <span>考试列表</span>
                </div>
                <div style="width: 100%;">
                    <div angucomplete-alt
                         style="padding:2px 10px;"
                         id="searchExam"
                         placeholder="搜索考试"
                         pause="300"
                         selected-object="selectedExam"
                         remote-url="/v1/exam/search"
                         remote-url-request-formatter="remoteUrlRequestFn"
                         remote-url-data-field="data"
                         title-field="examName"
                         description-field="examName"
                         input-class="form-control form-control-small"
                         text-searching="搜索中"
                         text-no-results="没有结果"
                         minlength="1"
                         match-class="highlight">
                    </div>
                </div>

                <!--分析模板-->
                <div class="title">
                    <span>分析模板</span>
                </div>

                <div style="padding:2px 10px;" class="form-inline">
                    <input ng-model="template.name" class="form-control" placeholder="选择分析模版" style="width: calc(100% - 70px);" ng-disabled="1"/>
                    <button class="btn btn-info" ng-click="openTemplateDialog()">选择</button>
                </div>

                <div style="padding:20px 10px;">
                    <button class="btn btn-info" style="width: 100%;" ng-click="startAnalyse()">
                        开始分析
                    </button>
                </div>


                <!--分析历史-->
                <hr/>
                <div class="title">
                    <span>分析历史</span>
                </div>

                <div>
                    <table ng-table="historyTableParams" class="table table-condensed table-bordered table-striped" style="border: 1px solid #eeeeee;">
                        <tr ng-repeat="row in $data" ng-dblclick="" style="text-align: center;">
                            <td data-title="'模板名称'">{{row.gender}}</td>
                            <td data-title="'操作'">
                                <a class="" ng-click="">查看结果</a>
                            </td>
                        </tr>
                        <tfoot ng-if="!$data || $data.length<1">
                        <tr>
                            <td colspan="5" style="text-align: center;"> 无历史分析数据 </td>
                        </tr>
                        </tfoot>
                    </table>
                </div>

            </div>

        </div>
        <!--显示一个箭头-->
        <div ng-click="showOrHideLeftWindow()" style="height:94%;width: 16px;z-index:100;" class="arrow-button">
            <i class="fa"  style="font-size: 1.5em" ng-class="showLeftWindow?'fa-angle-double-left':'fa-angle-double-right'"></i>
        </div>
        <!--用于显示右端的分析数据-->
        <div ng-class="showLeftWindow ? 'col-xs-10' : 'col-xs-12'" style="height:100%;z-index:50;">
            <div class="panel" style="height: 100%;">

                <!--顶层选项-->
                <div class="row" style="padding-top:5px;margin-left:0px;height: 50px;">
                    <div class="col-xs-6 btn-group">
                        <button class="btn btn-default" ng-class="{active:flag.show == 1}" ng-click="showTables()">表格</button>
                        <button class="btn btn-default" ng-class="{active:flag.show == 2}" ng-click="showCharts()">图形</button>
                    </div>
                </div>

                <!--科目维度-->
                <div style="overflow: auto;height: calc(100% - 50px);padding-left:15px;padding-right: 15px;">
                    <!--排名表格, 根据科目分为多个表格-->
                    <div ng-repeat="table in resultList"  style="padding-top:50px;" ng-show="flag.show == 1">
                        <div class="title">
                            <span>{{table.name}}</span>
                        </div>
                        <table class="table table-bordered table-hover table-condensed editable-table table-min">
                            <tr>
                                <th>班级</th>
                                <th ng-repeat="headItem in table.gapList track by $index"  style="text-align: center;">{{headItem.start}}-{{headItem.end}}(名)</th>
                            </tr>
                            <tr ng-repeat="item in table.gapInnerList track by $index">
                                <td>{{item.cname}}</td>
                                <td ng-repeat="countItem in item.countList track by $index" style="text-align: center">{{countItem}}</td>
                            </tr>
                        </table>
                    </div>

                    <!--排名图形, 根据科目分为多个图形-->
                    <div ng-repeat="table in resultList" style="padding-top:50px;text-align: center;" ng-show="flag.show == 2">
                        <div id="{{'chart' + table.name}}" style="height: 400px; width: 800px;margin:auto;"></div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>